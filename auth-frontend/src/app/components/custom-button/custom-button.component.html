<!-- custom-button.component.html -->
<button
  [type]="type"
  [disabled]="disabled || loading"
  [attr.aria-disabled]="disabled || loading"
  [attr.aria-label]="effectiveAriaLabel"
  (click)="onClick($event)"
  class="custom-button"
  [class.link-style]="linkStyle"
  [class.icon-start]="iconAlignment === 'start'"
  [class.icon-adjacent]="iconAlignment === 'adjacent'"
  [ngClass]="{ loading: loading, disabled: disabled || loading }"
>
  <!-- Icon on left if specified -->
  <img
    *ngIf="iconSrc && iconPosition === 'left'"
    [src]="iconSrc"
    class="button-icon left-icon"
    alt=""
  />

  <!-- Simple text container -->
  <span *ngIf="loading" class="spinner" aria-hidden="true"></span>
  <span [ngClass]="{ 'visually-hidden': loading }">{{ text }}</span>

  <!-- Icon on right if specified -->
  <img
    *ngIf="iconSrc && iconPosition === 'right'"
    [src]="iconSrc"
    class="button-icon right-icon"
    alt=""
  />
</button>
